<div class="panel-group" id="accordion">
  <% computed_solutions.each do |computed_solution| %>
    <div class="panel panel-default">
      <a data-toggle="collapse" data-parent="#accordion" href="#<%=computed_solution.id%>">
        <div class="panel-heading sol-head">
          <div class="panel-title" id="sol-list">

            <div class="sol-status label label-<%= computed_solution.ready? ? "success" : computed_solution.error? ? "danger" : "info" %>">
              <%= t("computed_solutionution.status.#{computed_solution.status}")%>
              <span class="badge nb_solutions">
                <%= computed_solution.nb_optimal_solutions %>
              </span><br>
              <small><%= l computed_solution.created_at, format: :default_heure %></small>
            </div>
            <div class="infos">
              <blockquote>
                <p>planning</p>
                <footer>
                <%= computed_solution.p_nb_slots %> créneaux (<%= computed_solution.p_nb_hours %>heures) /
                <% computed_solution.p_nb_hours_roles.each do |role, hours|%>
                  <%= role.to_s %> : <%= hours %>h/
                <% end %>
                </footer>
              </blockquote>
            </div>
            <div class="infos">
              <blockquote>
                <p>Users</p>
                <footer>
                  <%= @planning.users.count %> équipiers(
                  <% @planning.users.each do |user| %>
                    <%= user.first_name %>,
                  <% end %>)
                </footer>
              </blockquote>
            </div>
            <div class="infos">
              <blockquote>
                <p>Solutions</p>
                <footer>
                  <strong>combinaisons</strong> : <%= computed_solution.nb_possibilities_theory %> / <strong>itérations</strong> : <%= computed_solution.nb_iterations %> / <strong>solutions</strong> : <%= computed_solution.nb_solutions %> / <strong>sol optimales</strong> : <%= computed_solution.nb_optimal_solutions %>
                </footer>
              </blockquote>
            </div>
            <% if computed_solution.pending? %>
              <div><i class="fa fa-spinner fa-pulse"></i></div>
            <% end %>
          </div>
        </div>
      </a>

      <div id="<%= computed_solution.id %>" class="panel-collapse collapse">
        <div class="panel-body">
          <div class="list-group">
            <% computed_solution.solutions.each_with_index do |solution, index| %>
              <div class="list-group-item sol-item">
                <div class="sol-title">Solution n°<%= index + 1 %></div>
                <button class="btn-primary sol-btn"><i class="fa fa-eye"></i></button>
                <button class="btn-primary sol-btn"><i class="fa fa-check-circle"></i></button>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>
